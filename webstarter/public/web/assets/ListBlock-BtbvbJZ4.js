import{u as L,r as c,$,j as e,B}from"./index-BEnNszjz.js";const S=({doctype:h,title:m,subtitle:o,columns:g=3,has_pagination:n=!1,pagination_limit:i=5,fields:d,has_view:j=!1,base_route:C=""})=>{const p=L(),[N,f]=c.useState([]),[a,x]=c.useState(1),[r,b]=c.useState(1),{data:l,error:u,isLoading:v}=$(h,{fields:["name",...d.map(s=>s.fieldname)],limit_start:(a-1)*i,limit_page_length:n?i:void 0});c.useEffect(()=>{if(l&&(f(l),n)){const s=l.length;b(Math.ceil(s/i))}},[l,n]);const y=()=>{a<r&&x(s=>s+1)},w=()=>{a>1&&x(s=>s-1)};return v?e.jsx("p",{children:"Loading..."}):u?e.jsxs("p",{children:["Error fetching data: ",u.message]}):e.jsxs("div",{className:"container mx-auto py-8",children:[m&&e.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:m}),o&&e.jsx("p",{className:"text-lg text-muted-foreground mb-6 text-center",children:o}),e.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-${g} gap-6`,children:N.map((s,P)=>e.jsxs("div",{className:"p-4 rounded-lg shadow-md bg-white",children:[d.map((t,k)=>(t.show==="List"||t.show==="Both")&&e.jsxs("div",{className:"mb-2",children:[t.type==="Title"&&e.jsx("h3",{className:"text-xl font-semibold",children:s[t.fieldname]}),t.type==="Subtitle"&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s[t.fieldname]}),t.type==="Image"&&s[t.fieldname]&&e.jsx("img",{src:s[t.fieldname],alt:s[t.fieldname],className:"w-full h-40 object-cover rounded"}),t.type==="Link"&&s[t.fieldname]&&e.jsx("a",{href:s[t.fieldname],className:"text-primary underline",children:"View"}),t.type==="Icon"&&e.jsx("i",{className:`icon-${s[t.fieldname]}`})]},k)),j&&s.name&&e.jsx("div",{className:"mt-4",children:e.jsx(B,{variant:"link",onClick:()=>p(`/web/views/${s.name}`),children:"View"})})]},P))}),n&&r>1&&e.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[e.jsx("button",{onClick:w,disabled:a===1,className:"px-4 py-2 bg-gray-300 rounded",children:"Previous"}),e.jsxs("span",{className:"self-center",children:["Page ",a," of ",r]}),e.jsx("button",{onClick:y,disabled:a===r,className:"px-4 py-2 bg-gray-300 rounded",children:"Next"})]})]})};export{S as default};
