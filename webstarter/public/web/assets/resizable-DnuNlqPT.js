var $n=Object.defineProperty,kn=Object.defineProperties;var Dn=Object.getOwnPropertyDescriptors;var Re=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var qe=(e,n,t)=>n in e?$n(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,H=(e,n)=>{for(var t in n||(n={}))Xe.call(n,t)&&qe(e,t,n[t]);if(Re)for(var t of Re(n))Je.call(n,t)&&qe(e,t,n[t]);return e},ee=(e,n)=>kn(e,Dn(n));var fe=(e,n)=>{var t={};for(var r in e)Xe.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Re)for(var r of Re(e))n.indexOf(r)<0&&Je.call(e,r)&&(t[r]=e[r]);return t};import{b8 as an,j as Me,k as sn}from"./index-BEnNszjz.js";import{G as _n}from"./grip-vertical-DWpGhHag.js";const{createElement:ze,createContext:Hn,createRef:ht,forwardRef:cn,useCallback:B,useContext:un,useEffect:ae,useImperativeHandle:fn,useLayoutEffect:Gn,useMemo:Bn,useRef:T,useState:he}=an,Ye=an[`useId${Math.random()}`.slice(0,5)],Tn=Gn,ke=Hn(null);ke.displayName="PanelGroupContext";const se=Tn,Fn=typeof Ye=="function"?Ye:()=>null;let Kn=0;function We(e=null){const n=Fn(),t=T(e||n||null);return t.current===null&&(t.current=""+Kn++),e!=null?e:t.current}function dn(E){var P=E,{children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:l,maxSize:a,minSize:s,onCollapse:p,onExpand:w,onResize:f,order:u,style:v,tagName:d="div"}=P,S=fe(P,["children","className","collapsedSize","collapsible","defaultSize","forwardedRef","id","maxSize","minSize","onCollapse","onExpand","onResize","order","style","tagName"]);const C=un(ke);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:A,expandPanel:$,getPanelSize:N,getPanelStyle:j,groupId:J,isPanelCollapsed:L,reevaluatePanelConstraints:g,registerPanel:q,resizePanel:X,unregisterPanel:te}=C,K=We(l),M=T({callbacks:{onCollapse:p,onExpand:w,onResize:f},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:a,minSize:s},id:K,idIsFromProps:l!==void 0,order:u});T({didLogMissingDefaultSizeWarning:!1}),se(()=>{const{callbacks:D,constraints:_}=M.current,G=H({},_);M.current.id=K,M.current.idIsFromProps=l!==void 0,M.current.order=u,D.onCollapse=p,D.onExpand=w,D.onResize=f,_.collapsedSize=t,_.collapsible=r,_.defaultSize=i,_.maxSize=a,_.minSize=s,(G.collapsedSize!==_.collapsedSize||G.collapsible!==_.collapsible||G.maxSize!==_.maxSize||G.minSize!==_.minSize)&&g(M.current,G)}),se(()=>{const D=M.current;return q(D),()=>{te(D)}},[u,K,q,te]),fn(o,()=>({collapse:()=>{A(M.current)},expand:D=>{$(M.current,D)},getId(){return K},getSize(){return N(M.current)},isCollapsed(){return L(M.current)},isExpanded(){return!L(M.current)},resize:D=>{X(M.current,D)}}),[A,$,N,L,K,X]);const Q=j(M.current,i);return ze(d,ee(H({},S),{children:e,className:n,id:l,style:H(H({},Q),v),"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":J,"data-panel-id":K,"data-panel-size":parseFloat(""+Q.flexGrow).toFixed(1)}))}const pn=cn((e,n)=>ze(dn,ee(H({},e),{forwardedRef:n})));dn.displayName="Panel";pn.displayName="forwardRef(Panel)";let Ke=null,le=null;function Wn(e,n){if(n){const t=(n&zn)!==0,r=(n&xn)!==0,i=(n&vn)!==0,o=(n&Sn)!==0;if(t)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function jn(){le!==null&&(document.head.removeChild(le),Ke=null,le=null)}function Te(e,n){const t=Wn(e,n);Ke!==t&&(Ke=t,le===null&&(le=document.createElement("style"),document.head.appendChild(le)),le.innerHTML=`*{cursor: ${t}!important;}`)}function gn(e){return e.type==="keydown"}function mn(e){return e.type.startsWith("pointer")}function hn(e){return e.type.startsWith("mouse")}function De(e){if(mn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(hn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Vn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Un(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function On(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:en(e),b:en(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;z(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Qe(Ze(t.a)),b:Qe(Ze(t.b))};if(i.a===i.b){const o=r.childNodes,l={a:t.a.at(-1),b:t.b.at(-1)};let a=o.length;for(;a--;){const s=o[a];if(s===l.a)return 1;if(s===l.b)return-1}}return Math.sign(i.a-i.b)}const qn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Xn(e){var n;const t=getComputedStyle((n=yn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Jn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Xn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||qn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Ze(e){let n=e.length;for(;n--;){const t=e[n];if(z(t,"Missing node"),Jn(t))return t}return null}function Qe(e){return e&&Number(getComputedStyle(e).zIndex)||0}function en(e){const n=[];for(;e;)n.push(e),e=yn(e);return n}function yn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const zn=1,xn=2,vn=4,Sn=8,Yn=Vn()==="coarse";let O=[],ye=!1,ne=new Map,_e=new Map;const Pe=new Set;function Zn(e,n,t,r,i){var o;const{ownerDocument:l}=n,a={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},s=(o=ne.get(l))!==null&&o!==void 0?o:0;return ne.set(l,s+1),Pe.add(a),Ne(),function(){var w;_e.delete(e),Pe.delete(a);const f=(w=ne.get(l))!==null&&w!==void 0?w:1;if(ne.set(l,f-1),Ne(),f===1&&ne.delete(l),O.includes(a)){const u=O.indexOf(a);u>=0&&O.splice(u,1),Ve(),i("up",!0,null)}}}function nn(e){const{target:n}=e,{x:t,y:r}=De(e);ye=!0,je({target:n,x:t,y:r}),Ne(),O.length>0&&($e("down",e),e.preventDefault(),e.stopPropagation())}function ve(e){const{x:n,y:t}=De(e);if(ye&&e.buttons===0&&(ye=!1,$e("up",e)),!ye){const{target:r}=e;je({target:r,x:n,y:t})}$e("move",e),Ve(),O.length>0&&e.preventDefault()}function de(e){const{target:n}=e,{x:t,y:r}=De(e);_e.clear(),ye=!1,O.length>0&&e.preventDefault(),$e("up",e),je({target:n,x:t,y:r}),Ve(),Ne()}function je({target:e,x:n,y:t}){O.splice(0);let r=null;e instanceof HTMLElement&&(r=e),Pe.forEach(i=>{const{element:o,hitAreaMargins:l}=i,a=o.getBoundingClientRect(),{bottom:s,left:p,right:w,top:f}=a,u=Yn?l.coarse:l.fine;if(n>=p-u&&n<=w+u&&t>=f-u&&t<=s+u){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&On(r,o)>0){let d=r,S=!1;for(;d&&!d.contains(o);){if(Un(d.getBoundingClientRect(),a)){S=!0;break}d=d.parentElement}if(S)return}O.push(i)}})}function Fe(e,n){_e.set(e,n)}function Ve(){let e=!1,n=!1;O.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;_e.forEach(r=>{t|=r}),e&&n?Te("intersection",t):e?Te("horizontal",t):n?Te("vertical",t):jn()}function Ne(){ne.forEach((e,n)=>{const{body:t}=n;t.removeEventListener("contextmenu",de),t.removeEventListener("pointerdown",nn),t.removeEventListener("pointerleave",ve),t.removeEventListener("pointermove",ve)}),window.removeEventListener("pointerup",de),window.removeEventListener("pointercancel",de),Pe.size>0&&(ye?(O.length>0&&ne.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("contextmenu",de),t.addEventListener("pointerleave",ve),t.addEventListener("pointermove",ve))}),window.addEventListener("pointerup",de),window.addEventListener("pointercancel",de)):ne.forEach((e,n)=>{const{body:t}=n;e>0&&(t.addEventListener("pointerdown",nn,{capture:!0}),t.addEventListener("pointermove",ve))}))}function $e(e,n){Pe.forEach(t=>{const{setResizeHandlerState:r}=t,i=O.includes(t);r(e,i,n)})}function Qn(){const[e,n]=he(0);return B(()=>n(t=>t+1),[])}function z(e,n){if(!e)throw console.error(n),Error(n)}const Ue=10;function ce(e,n,t=Ue){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Z(e,n,t=Ue){return ce(e,n,t)===0}function F(e,n,t){return ce(e,n,t)===0}function et(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!F(i,o,t))return!1}return!0}function me({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];z(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:l=100,minSize:a=0}=r;if(ce(t,a)<0)if(o){const s=(i+a)/2;ce(t,s)<0?t=i:t=a}else t=a;return t=Math.min(l,t),t=parseFloat(t.toFixed(Ue)),t}function Se({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(F(e,0))return n;const l=[...n],[a,s]=r;z(a!=null,"Invalid first pivot index"),z(s!=null,"Invalid second pivot index");let p=0;if(o==="keyboard"){{const f=e<0?s:a,u=t[f];z(u,`Panel constraints not found for index ${f}`);const{collapsedSize:v=0,collapsible:d,minSize:S=0}=u;if(d){const E=n[f];if(z(E!=null,`Previous layout not found for panel index ${f}`),F(E,v)){const P=S-E;ce(P,Math.abs(e))>0&&(e=e<0?0-P:P)}}}{const f=e<0?a:s,u=t[f];z(u,`No panel constraints found for index ${f}`);const{collapsedSize:v=0,collapsible:d,minSize:S=0}=u;if(d){const E=n[f];if(z(E!=null,`Previous layout not found for panel index ${f}`),F(E,S)){const P=E-v;ce(P,Math.abs(e))>0&&(e=e<0?0-P:P)}}}}{const f=e<0?1:-1;let u=e<0?s:a,v=0;for(;;){const S=n[u];z(S!=null,`Previous layout not found for panel index ${u}`);const P=me({panelConstraints:t,panelIndex:u,size:100})-S;if(v+=P,u+=f,u<0||u>=t.length)break}const d=Math.min(Math.abs(e),Math.abs(v));e=e<0?0-d:d}{let u=e<0?a:s;for(;u>=0&&u<t.length;){const v=Math.abs(e)-Math.abs(p),d=n[u];z(d!=null,`Previous layout not found for panel index ${u}`);const S=d-v,E=me({panelConstraints:t,panelIndex:u,size:S});if(!F(d,E)&&(p+=d-E,l[u]=E,p.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(et(i,l))return i;{const f=e<0?s:a,u=n[f];z(u!=null,`Previous layout not found for panel index ${f}`);const v=u+p,d=me({panelConstraints:t,panelIndex:f,size:v});if(l[f]=d,!F(d,v)){let S=v-d,P=e<0?s:a;for(;P>=0&&P<t.length;){const C=l[P];z(C!=null,`Previous layout not found for panel index ${P}`);const A=C+S,$=me({panelConstraints:t,panelIndex:P,size:A});if(F(C,$)||(S-=$-C,l[P]=$),F(S,0))break;e>0?P--:P++}}}const w=l.reduce((f,u)=>u+f,0);return F(w,100)?l:i}function nt({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,l=0;const a=t[0];z(a!=null,"No pivot index found"),n.forEach((f,u)=>{const{constraints:v}=f,{maxSize:d=100,minSize:S=0}=v;u===a?(r=S,i=d):(o+=S,l+=d)});const s=Math.min(i,100-o),p=Math.max(r,100-l),w=e[a];return{valueMax:s,valueMin:p,valueNow:w}}function we(e,n=document){return Array.from(n.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function bn(e,n,t=document){const i=we(e,t).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===n);return i!=null?i:null}function Pn(e,n,t){const r=bn(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function wn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const r=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function He(e,n=document){const t=n.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function tt(e,n,t,r=document){var i,o,l,a;const s=He(n,r),p=we(e,r),w=s?p.indexOf(s):-1,f=(i=(o=t[w])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,u=(l=(a=t[w+1])===null||a===void 0?void 0:a.id)!==null&&l!==void 0?l:null;return[f,u]}function rt({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:l}){T({didWarnAboutMissingResizeHandle:!1}),se(()=>{if(!o)return;const a=we(t,o);for(let s=0;s<i.length-1;s++){const{valueMax:p,valueMin:w,valueNow:f}=nt({layout:r,panelsArray:i,pivotIndices:[s,s+1]}),u=a[s];if(u!=null){const v=i[s];z(v,`No panel data found for index "${s}"`),u.setAttribute("aria-controls",v.id),u.setAttribute("aria-valuemax",""+Math.round(p)),u.setAttribute("aria-valuemin",""+Math.round(w)),u.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((s,p)=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}},[t,r,i,o]),ae(()=>{if(!o)return;const a=n.current;z(a,"Eager values not found");const{panelDataArray:s}=a,p=wn(t,o);z(p!=null,`No group found for id "${t}"`);const w=we(t,o);z(w,`No resize handles found for group id "${t}"`);const f=w.map(u=>{const v=u.getAttribute("data-panel-resize-handle-id");z(v,"Resize handle element has no handle id attribute");const[d,S]=tt(t,v,s,o);if(d==null||S==null)return()=>{};const E=P=>{if(!P.defaultPrevented)switch(P.key){case"Enter":{P.preventDefault();const C=s.findIndex(A=>A.id===d);if(C>=0){const A=s[C];z(A,`No panel data found for index ${C}`);const $=r[C],{collapsedSize:N=0,collapsible:j,minSize:J=0}=A.constraints;if($!=null&&j){const L=Se({delta:F($,N)?J-N:N-$,initialLayout:r,panelConstraints:s.map(g=>g.constraints),pivotIndices:Pn(t,v,o),prevLayout:r,trigger:"keyboard"});r!==L&&l(L)}}break}}};return u.addEventListener("keydown",E),()=>{u.removeEventListener("keydown",E)}});return()=>{f.forEach(u=>u())}},[o,e,n,t,r,i,l])}function tn(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function En(e,n){const t=e==="horizontal",{x:r,y:i}=De(n);return t?r:i}function ot(e,n,t,r,i){const o=t==="horizontal",l=He(n,i);z(l,`No resize handle element found for id "${n}"`);const a=l.getAttribute("data-panel-group-id");z(a,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=r;const p=En(t,e),w=wn(a,i);z(w,`No group element found for id "${a}"`);const f=w.getBoundingClientRect(),u=o?f.width:f.height;return(p-s)/u*100}function it(e,n,t,r,i,o){if(gn(e)){const l=t==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let s=0;switch(e.key){case"ArrowDown":s=l?0:a;break;case"ArrowLeft":s=l?-a:0;break;case"ArrowRight":s=l?a:0;break;case"ArrowUp":s=l?0:-a;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return r==null?0:ot(e,n,t,r,o)}function lt({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const l=t[o];z(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;a!=null&&(r++,n[o]=a,i-=a)}for(let o=0;o<e.length;o++){const l=t[o];z(l,`Panel constraints not found for index ${o}`);const{defaultSize:a}=l;if(a!=null)continue;const s=e.length-r,p=i/s;r++,n[o]=p,i-=p}return n}function pe(e,n,t){n.forEach((r,i)=>{const o=e[i];z(o,`Panel data not found for index ${i}`);const{callbacks:l,constraints:a,id:s}=o,{collapsedSize:p=0,collapsible:w}=a,f=t[s];if(f==null||r!==f){t[s]=r;const{onCollapse:u,onExpand:v,onResize:d}=l;d&&d(r,f),w&&(u||v)&&(v&&(f==null||Z(f,p))&&!Z(r,p)&&v(),u&&(f==null||!Z(f,p))&&Z(r,p)&&u())}})}function Ae(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function at({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const l=t[i];let a;return l==null?a=e!=null?e.toPrecision(o):"1":r.length===1?a="1":a=l.toPrecision(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function st(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function rn(e){try{if(typeof localStorage!="undefined")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function Cn(e){return`react-resizable-panels:${e}`}function Ln(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function In(e,n){try{const t=Cn(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch(t){}return null}function ct(e,n,t){var r,i;const o=(r=In(e,t))!==null&&r!==void 0?r:{},l=Ln(n);return(i=o[l])!==null&&i!==void 0?i:null}function ut(e,n,t,r,i){var o;const l=Cn(e),a=Ln(n),s=(o=In(e,i))!==null&&o!==void 0?o:{};s[a]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(l,JSON.stringify(s))}catch(p){console.error(p)}}function on({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,l)=>o+l,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!F(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const l=t[o];z(l!=null,`No layout data found for index ${o}`);const a=100/r*l;t[o]=a}let i=0;for(let o=0;o<n.length;o++){const l=t[o];z(l!=null,`No layout data found for index ${o}`);const a=me({panelConstraints:n,panelIndex:o,size:l});l!=a&&(i+=l-a,t[o]=a)}if(!F(i,0))for(let o=0;o<n.length;o++){const l=t[o];z(l!=null,`No layout data found for index ${o}`);const a=l+i,s=me({panelConstraints:n,panelIndex:o,size:a});if(l!==s&&(i-=s-l,t[o]=s,F(i,0)))break}return t}const ft=100,be={getItem:e=>(rn(be),be.getItem(e)),setItem:(e,n)=>{rn(be),be.setItem(e,n)}},ln={};function Rn(u){var v=u,{autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:l=null,keyboardResizeBy:a=null,storage:s=be,style:p,tagName:w="div"}=v,f=fe(v,["autoSaveId","children","className","direction","forwardedRef","id","onLayout","keyboardResizeBy","storage","style","tagName"]);const d=We(o),S=T(null),[E,P]=he(null),[C,A]=he([]),$=Qn(),N=T({}),j=T(new Map),J=T(0),L=T({autoSaveId:e,direction:r,dragState:E,id:d,keyboardResizeBy:a,onLayout:l,storage:s}),g=T({layout:C,panelDataArray:[],panelDataArrayChanged:!1});T({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),fn(i,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:c}=g.current;return c},setLayout:c=>{const{onLayout:x}=L.current,{layout:y,panelDataArray:m}=g.current,h=on({layout:c,panelConstraints:m.map(b=>b.constraints)});tn(y,h)||(A(h),g.current.layout=h,x&&x(h),pe(m,h,N.current))}}),[]),se(()=>{L.current.autoSaveId=e,L.current.direction=r,L.current.dragState=E,L.current.id=d,L.current.onLayout=l,L.current.storage=s}),rt({committedValuesRef:L,eagerValuesRef:g,groupId:d,layout:C,panelDataArray:g.current.panelDataArray,setLayout:A,panelGroupElement:S.current}),ae(()=>{const{panelDataArray:c}=g.current;if(e){if(C.length===0||C.length!==c.length)return;let x=ln[e];x==null&&(x=st(ut,ft),ln[e]=x);const y=[...c],m=new Map(j.current);x(e,y,m,C,s)}},[e,C,s]),ae(()=>{});const q=B(c=>{const{onLayout:x}=L.current,{layout:y,panelDataArray:m}=g.current;if(c.constraints.collapsible){const h=m.map(V=>V.constraints),{collapsedSize:b=0,panelSize:I,pivotIndices:k}=ie(m,c,y);if(z(I!=null,`Panel size not found for panel "${c.id}"`),!Z(I,b)){j.current.set(c.id,I);const W=ge(m,c)===m.length-1?I-b:b-I,R=Se({delta:W,initialLayout:y,panelConstraints:h,pivotIndices:k,prevLayout:y,trigger:"imperative-api"});Ae(y,R)||(A(R),g.current.layout=R,x&&x(R),pe(m,R,N.current))}}},[]),X=B((c,x)=>{const{onLayout:y}=L.current,{layout:m,panelDataArray:h}=g.current;if(c.constraints.collapsible){const b=h.map(U=>U.constraints),{collapsedSize:I=0,panelSize:k=0,minSize:V=0,pivotIndices:W}=ie(h,c,m),R=x!=null?x:V;if(Z(k,I)){const U=j.current.get(c.id),Le=U!=null&&U>=R?U:R,Ie=ge(h,c)===h.length-1?k-Le:Le-k,oe=Se({delta:Ie,initialLayout:m,panelConstraints:b,pivotIndices:W,prevLayout:m,trigger:"imperative-api"});Ae(m,oe)||(A(oe),g.current.layout=oe,y&&y(oe),pe(h,oe,N.current))}}},[]),te=B(c=>{const{layout:x,panelDataArray:y}=g.current,{panelSize:m}=ie(y,c,x);return z(m!=null,`Panel size not found for panel "${c.id}"`),m},[]),K=B((c,x)=>{const{panelDataArray:y}=g.current,m=ge(y,c);return at({defaultSize:x,dragState:E,layout:C,panelData:y,panelIndex:m})},[E,C]),M=B(c=>{const{layout:x,panelDataArray:y}=g.current,{collapsedSize:m=0,collapsible:h,panelSize:b}=ie(y,c,x);return z(b!=null,`Panel size not found for panel "${c.id}"`),h===!0&&Z(b,m)},[]),Q=B(c=>{const{layout:x,panelDataArray:y}=g.current,{collapsedSize:m=0,collapsible:h,panelSize:b}=ie(y,c,x);return z(b!=null,`Panel size not found for panel "${c.id}"`),!h||ce(b,m)>0},[]),D=B(c=>{const{panelDataArray:x}=g.current;x.push(c),x.sort((y,m)=>{const h=y.order,b=m.order;return h==null&&b==null?0:h==null?-1:b==null?1:h-b}),g.current.panelDataArrayChanged=!0,$()},[$]);se(()=>{if(g.current.panelDataArrayChanged){g.current.panelDataArrayChanged=!1;const{autoSaveId:c,onLayout:x,storage:y}=L.current,{layout:m,panelDataArray:h}=g.current;let b=null;if(c){const k=ct(c,h,y);k&&(j.current=new Map(Object.entries(k.expandToSizes)),b=k.layout)}b==null&&(b=lt({panelDataArray:h}));const I=on({layout:b,panelConstraints:h.map(k=>k.constraints)});tn(m,I)||(A(I),g.current.layout=I,x&&x(I),pe(h,I,N.current))}}),se(()=>{const c=g.current;return()=>{c.layout=[]}},[]);const _=B(c=>function(y){y.preventDefault();const m=S.current;if(!m)return()=>null;const{direction:h,dragState:b,id:I,keyboardResizeBy:k,onLayout:V}=L.current,{layout:W,panelDataArray:R}=g.current,{initialLayout:U}=b!=null?b:{},Le=Pn(I,c,m);let Y=it(y,c,h,b,k,m);const Ie=h==="horizontal";document.dir==="rtl"&&Ie&&(Y=-Y);const oe=R.map(Nn=>Nn.constraints),xe=Se({delta:Y,initialLayout:U!=null?U:W,panelConstraints:oe,pivotIndices:Le,prevLayout:W,trigger:gn(y)?"keyboard":"mouse-or-touch"}),Oe=!Ae(W,xe);(mn(y)||hn(y))&&J.current!=Y&&(J.current=Y,!Oe&&Y!==0?Ie?Fe(c,Y<0?zn:xn):Fe(c,Y<0?vn:Sn):Fe(c,0)),Oe&&(A(xe),g.current.layout=xe,V&&V(xe),pe(R,xe,N.current))},[]),G=B((c,x)=>{const{onLayout:y}=L.current,{layout:m,panelDataArray:h}=g.current,b=h.map(U=>U.constraints),{panelSize:I,pivotIndices:k}=ie(h,c,m);z(I!=null,`Panel size not found for panel "${c.id}"`);const W=ge(h,c)===h.length-1?I-x:x-I,R=Se({delta:W,initialLayout:m,panelConstraints:b,pivotIndices:k,prevLayout:m,trigger:"imperative-api"});Ae(m,R)||(A(R),g.current.layout=R,y&&y(R),pe(h,R,N.current))},[]),Ee=B((c,x)=>{const{layout:y,panelDataArray:m}=g.current,{collapsedSize:h=0,collapsible:b}=x,{collapsedSize:I=0,collapsible:k,maxSize:V=100,minSize:W=0}=c.constraints,{panelSize:R}=ie(m,c,y);R!=null&&(b&&k&&Z(R,h)?Z(h,I)||G(c,I):R<W?G(c,W):R>V&&G(c,V))},[G]),re=B((c,x)=>{const{direction:y}=L.current,{layout:m}=g.current;if(!S.current)return;const h=He(c,S.current);z(h,`Drag handle element not found for id "${c}"`);const b=En(y,x);P({dragHandleId:c,dragHandleRect:h.getBoundingClientRect(),initialCursorPosition:b,initialLayout:m})},[]),Ge=B(()=>{P(null)},[]),Ce=B(c=>{const{panelDataArray:x}=g.current,y=ge(x,c);y>=0&&(x.splice(y,1),delete N.current[c.id],g.current.panelDataArrayChanged=!0,$())},[$]),Be=Bn(()=>({collapsePanel:q,direction:r,dragState:E,expandPanel:X,getPanelSize:te,getPanelStyle:K,groupId:d,isPanelCollapsed:M,isPanelExpanded:Q,reevaluatePanelConstraints:Ee,registerPanel:D,registerResizeHandle:_,resizePanel:G,startDragging:re,stopDragging:Ge,unregisterPanel:Ce,panelGroupElement:S.current}),[q,E,r,X,te,K,d,M,Q,Ee,D,_,G,re,Ge,Ce]),ue={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return ze(ke.Provider,{value:Be},ze(w,ee(H({},f),{children:n,className:t,id:o,ref:S,style:H(H({},ue),p),"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":d})))}const An=cn((e,n)=>ze(Rn,ee(H({},e),{forwardedRef:n})));Rn.displayName="PanelGroup";An.displayName="forwardRef(PanelGroup)";function ge(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ie(e,n,t){const r=ge(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],l=t[r];return ee(H({},n.constraints),{panelSize:l,pivotIndices:o})}function dt({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){ae(()=>{if(e||t==null||r==null)return;const i=He(n,r);if(i==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),t(l);break}case"F6":{l.preventDefault();const a=i.getAttribute("data-panel-group-id");z(a,`No group element found for id "${a}"`);const s=we(a,r),p=bn(a,n,r);z(p!==null,`No resize element found for id "${n}"`);const w=l.shiftKey?p>0?p-1:s.length-1:p+1<s.length?p+1:0;s[w].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function Mn(u){var v=u,{children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:o,onDragging:l,onFocus:a,style:s={},tabIndex:p=0,tagName:w="div"}=v,f=fe(v,["children","className","disabled","hitAreaMargins","id","onBlur","onDragging","onFocus","style","tabIndex","tagName"]);var d,S;const E=T(null),P=T({onDragging:l});ae(()=>{P.current.onDragging=l});const C=un(ke);if(C===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:A,groupId:$,registerResizeHandle:N,startDragging:j,stopDragging:J,panelGroupElement:L}=C,g=We(i),[q,X]=he("inactive"),[te,K]=he(!1),[M,Q]=he(null),D=T({state:q});se(()=>{D.current.state=q}),ae(()=>{if(t)Q(null);else{const re=N(g);Q(()=>re)}},[t,g,N]);const _=(d=r==null?void 0:r.coarse)!==null&&d!==void 0?d:15,G=(S=r==null?void 0:r.fine)!==null&&S!==void 0?S:5;ae(()=>{if(t||M==null)return;const re=E.current;return z(re,"Element ref not attached"),Zn(g,re,A,{coarse:_,fine:G},(Ce,Be,ue)=>{if(Be)switch(Ce){case"down":{X("drag"),z(ue,'Expected event to be defined for "down" action'),j(g,ue);const{onDragging:c}=P.current;c&&c(!0);break}case"move":{const{state:c}=D.current;c!=="drag"&&X("hover"),z(ue,'Expected event to be defined for "move" action'),M(ue);break}case"up":{X("hover"),J();const{onDragging:c}=P.current;c&&c(!1);break}}else X("inactive")})},[_,A,t,G,N,g,M,j,J]),dt({disabled:t,handleId:g,resizeHandler:M,panelGroupElement:L});const Ee={touchAction:"none",userSelect:"none"};return ze(w,ee(H({},f),{children:e,className:n,id:i,onBlur:()=>{K(!1),o==null||o()},onFocus:()=>{K(!0),a==null||a()},ref:E,role:"separator",style:H(H({},Ee),s),tabIndex:p,"data-panel-group-direction":A,"data-panel-group-id":$,"data-resize-handle":"","data-resize-handle-active":q==="drag"?"pointer":te?"keyboard":void 0,"data-resize-handle-state":q,"data-panel-resize-handle-enabled":!t,"data-panel-resize-handle-id":g}))}Mn.displayName="PanelResizeHandle";const yt=t=>{var r=t,{className:e}=r,n=fe(r,["className"]);return Me.jsx(An,H({className:sn("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e)},n))},zt=pn,xt=r=>{var i=r,{withHandle:e,className:n}=i,t=fe(i,["withHandle","className"]);return Me.jsx(Mn,ee(H({className:sn("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",n)},t),{children:e&&Me.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:Me.jsx(_n,{className:"h-2.5 w-2.5"})})}))};export{xt as ResizableHandle,zt as ResizablePanel,yt as ResizablePanelGroup};
