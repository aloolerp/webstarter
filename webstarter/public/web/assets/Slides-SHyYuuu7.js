import{r as i,u as j,$ as w,j as e,B as N}from"./index-BEnNszjz.js";import{A as v}from"./arrow-up-right--PLGhhLg.js";import{A as y}from"./arrow-left-HmZofO2s.js";import{A as S}from"./arrow-right-CsyS5JiY.js";const z=({doctype:o,fields:c})=>{const[a,h]=i.useState([]),[d,n]=i.useState(0),x=j(),u=c.map(t=>t.fieldname),{data:l,error:p}=w(o,{fields:[...u,"name"],filters:[["published","=",1]]});i.useEffect(()=>{l&&l.length>0&&h(l)},[l]),i.useEffect(()=>{const t=setInterval(()=>{n(s=>s===a.length-1?0:s+1)},5e3);return()=>clearInterval(t)},[a.length]);const f=()=>{n(t=>t===0?a.length-1:t-1)},g=()=>{n(t=>t===a.length-1?0:t+1)},r=(t,s)=>{const m=c.find(b=>b.type===s);return m?t[m.fieldname]:""};return p?e.jsxs("p",{children:["Error loading data from ",o,"."]}):e.jsxs("div",{className:"relative w-full h-[700px] mx-auto",children:[e.jsx("div",{className:"relative h-full",children:a.length>0&&e.jsx(e.Fragment,{children:a.map((t,s)=>e.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${s===d?"opacity-100 z-10":"opacity-0 z-0"}`,children:[e.jsx("img",{src:r(t,"Image"),alt:r(t,"Header"),className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent flex items-end",children:e.jsxs("div",{className:"md:p-32 text-white space-y-4",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:r(t,"Header")}),e.jsx("p",{className:"text-lg sm:text-xl",children:r(t,"Subtitle")}),e.jsxs(N,{variant:"link",onClick:()=>x(`/web/projects/${t.name}`),className:"bg-primary text-white px-6 py-2 rounded-md shadow hover:bg-primary",children:["View",e.jsx(v,{className:"w-4"})]})]})})]},s))})}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center space-x-2 z-20",children:[e.jsx("button",{onClick:f,className:"bg-white bg-opacity-75 hover:bg-opacity-100 text-primary p-2 m-4 rounded-full shadow",children:e.jsx(y,{className:"w-6 h-6"})}),e.jsx("button",{onClick:g,className:"bg-white bg-opacity-75 hover:bg-opacity-100 text-primary p-2 rounded-full shadow",children:e.jsx(S,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-2 z-20",children:a.map((t,s)=>e.jsx("div",{className:`h-2 w-2 rounded-full transition-all duration-400 ${s===d?"bg-primary w-6":"bg-white bg-opacity-50"}`},s))})]})]})};export{z as default};
