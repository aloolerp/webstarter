var xe=Object.defineProperty,Oe=Object.defineProperties;var Ce=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var Vt=(t,n,e)=>n in t?xe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,M=(t,n)=>{for(var e in n||(n={}))Yt.call(n,e)&&Vt(t,e,n[e]);if(bt)for(var e of bt(n))qt.call(n,e)&&Vt(t,e,n[e]);return t},Rt=(t,n)=>Oe(t,Ce(n));var j=(t,n)=>{var e={};for(var r in t)Yt.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&bt)for(var r of bt(t))n.indexOf(r)<0&&qt.call(t,r)&&(e[r]=t[r]);return e};import{b4 as i,aG as $e,aI as Ne,aF as Ae,aM as Me,aK as Pe,aL as Ie,r as nt,aN as He,aO as _e,j as Q,k as st}from"./index-BEnNszjz.js";function ke(t){if(typeof document=="undefined")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Qt=i.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),lt=()=>{const t=i.useContext(Qt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};ke(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Le=24,Be=typeof window!="undefined"?nt.useLayoutEffect:nt.useEffect;function Xt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}function Ue(){return Ht(/^Mac/)}function Fe(){return Ht(/^iPhone/)}function Kt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function je(){return Ht(/^iPad/)||Ue()&&navigator.maxTouchPoints>1}function Zt(){return Fe()||je()}function Ht(t){return typeof window!="undefined"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const $t=typeof document!="undefined"&&window.visualViewport;function Gt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function te(t){for(Gt(t)&&(t=t.parentElement);t&&!Gt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const We=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let St=0,Nt;function ze(t={}){let{isDisabled:n}=t;Be(()=>{if(!n)return St++,St===1&&Zt()&&(Nt=Ve()),()=>{St--,St===0&&(Nt==null||Nt())}},[n])}function Ve(){let t,n=0,e=h=>{t=te(h.target),!(t===document.documentElement&&t===document.body)&&(n=h.changedTouches[0].pageY)},r=h=>{if(!t||t===document.documentElement||t===document.body){h.preventDefault();return}let f=h.changedTouches[0].pageY,k=t.scrollTop,Y=t.scrollHeight-t.clientHeight;Y!==0&&((k<=0&&f>n||k>=Y&&f<n)&&h.preventDefault(),n=f)},a=h=>{let f=h.target;Pt(f)&&f!==document.activeElement&&(h.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},o=h=>{let f=h.target;Pt(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",$t&&($t.height<window.innerHeight?requestAnimationFrame(()=>{Jt(f)}):$t.addEventListener("resize",()=>Jt(f),{once:!0}))}))},v=()=>{window.scrollTo(0,0)},w=window.pageXOffset,m=window.pageYOffset,D=Xt(Ye(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let y=Xt(pt(document,"touchstart",e,{passive:!1,capture:!0}),pt(document,"touchmove",r,{passive:!1,capture:!0}),pt(document,"touchend",a,{passive:!1,capture:!0}),pt(document,"focus",o,!0),pt(window,"scroll",v));return()=>{D(),y(),window.scrollTo(w,m)}}function Ye(t,n,e){let r=t.style[n];return t.style[n]=e,()=>{t.style[n]=r}}function pt(t,n,e,r){return t.addEventListener(n,e,r),()=>{t.removeEventListener(n,e,r)}}function Jt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=te(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let r=e.getBoundingClientRect().top,a=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const v=e.getBoundingClientRect().bottom+Le;o>v&&(e.scrollTop+=a-r)}t=e.parentElement}}function Pt(t){return t instanceof HTMLInputElement&&!We.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function qe(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function Xe(...t){return n=>t.forEach(e=>qe(e,n))}function ee(...t){return nt.useCallback(Xe(...t),t)}const ne=new WeakMap;function C(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(n).forEach(([a,o])=>{if(a.startsWith("--")){t.style.setProperty(a,o);return}r[a]=t.style[a],t.style[a]=o}),!e&&ne.set(t,r)}function Ke(t,n){if(!t||!(t instanceof HTMLElement))return;let e=ne.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Dt(t,n){if(!t)return null;const e=window.getComputedStyle(t),r=e.transform||e.webkitTransform||e.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[$(n)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[$(n)?5:4]):null)}function Ge(t){return 8*(Math.log(t+1)-2)}function At(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function Je(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const x={DURATION:.5,EASE:[.32,.72,0,1]},re=.4,Qe=.25,Ze=100,ae=8,at=16,It=26,Mt="vaul-dragging";function oe(t){const n=i.useRef(t);return i.useEffect(()=>{n.current=t}),i.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function tn({defaultProp:t,onChange:n}){const e=i.useState(t),[r]=e,a=i.useRef(r),o=oe(n);return i.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),e}function ie({prop:t,defaultProp:n,onChange:e=()=>{}}){const[r,a]=tn({defaultProp:n,onChange:e}),o=t!==void 0,v=o?t:r,w=oe(e),m=i.useCallback(D=>{if(o){const h=typeof D=="function"?D(t):D;h!==t&&w(h)}else a(D)},[o,t,a,w]);return[v,m]}function en({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:v,direction:w="bottom",container:m,snapToSequentialPoint:D}){const[y,h]=ie({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[f,k]=i.useState(typeof window!="undefined"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);i.useEffect(()=>{function u(){k({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const Y=i.useMemo(()=>y===(e==null?void 0:e[e.length-1])||null,[e,y]),O=i.useMemo(()=>e==null?void 0:e.findIndex(u=>u===y),[e,y]),B=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===y||!e,d=i.useMemo(()=>{const u=m?{width:m.getBoundingClientRect().width,height:m.getBoundingClientRect().height}:typeof window!="undefined"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=e==null?void 0:e.map(g=>{const I=typeof g=="string";let N=0;if(I&&(N=parseInt(g,10)),$(w)){const s=I?N:f?g*u.height:0;return f?w==="bottom"?u.height-s:-u.height+s:s}const W=I?N:f?g*u.width:0;return f?w==="right"?u.width-W:-u.width+W:W}))!=null?b:[]},[e,f,m]),P=i.useMemo(()=>O!==null?d==null?void 0:d[O]:null,[d,O]),L=i.useCallback(u=>{var b;const g=(b=d==null?void 0:d.findIndex(I=>I===u))!=null?b:null;v(g),C(r.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:$(w)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),d&&g!==d.length-1&&g!==o&&g<o?C(a.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"0"}):C(a.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"1"}),h(e==null?void 0:e[Math.max(g,0)])},[r.current,e,d,o,a,h]);i.useEffect(()=>{if(y||t){var u;const b=(u=e==null?void 0:e.findIndex(g=>g===t||g===y))!=null?u:-1;d&&b!==-1&&typeof d[b]=="number"&&L(d[b])}},[y,t,e,d,L]);function p({draggedDistance:u,closeDrawer:b,velocity:g,dismissible:I}){if(o===void 0)return;const N=w==="bottom"||w==="right"?(P!=null?P:0)-u:(P!=null?P:0)+u,W=O===o-1,s=O===0,U=u>0;if(W&&C(a.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`}),!D&&g>2&&!U){I?b():L(d[0]);return}if(!D&&g>2&&U&&d&&e){L(d[e.length-1]);return}const H=d==null?void 0:d.reduce((A,Z)=>typeof A!="number"||typeof Z!="number"?A:Math.abs(Z-N)<Math.abs(A-N)?Z:A),z=$(w)?window.innerHeight:window.innerWidth;if(g>re&&Math.abs(u)<z*.4){const A=U?1:-1;if(A>0&&Y){L(d[e.length-1]);return}if(s&&A<0&&I&&b(),O===null)return;L(d[O+A]);return}L(H)}function q({draggedDistance:u}){if(P===null)return;const b=w==="bottom"||w==="right"?P-u:P+u;(w==="bottom"||w==="right")&&b<d[d.length-1]||(w==="top"||w==="left")&&b>d[d.length-1]||C(r.current,{transform:$(w)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function G(u,b){if(!e||typeof O!="number"||!d||o===void 0)return null;const g=O===o-1;if(O>=o&&b)return 0;if(g&&!b)return 1;if(!B&&!g)return null;const N=g?O+1:O-1,W=g?d[N]-d[N-1]:d[N+1]-d[N],s=u/Math.abs(W);return g?1-s:s}return{isLastSnapPoint:Y,activeSnapPoint:y,shouldFade:B,getPercentageDragged:G,setActiveSnapPoint:h,activeSnapPointIndex:O,onRelease:p,onDrag:q,snapPointsOffset:d}}const nn=()=>()=>{};function rn(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:r,noBodyStyles:a}=lt(),o=i.useRef(null),v=nt.useMemo(()=>document.body.style.backgroundColor,[]);function w(){return(window.innerWidth-It)/window.innerWidth}i.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const m=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!m)return;Je(r&&!a?At(document.body,{background:"black"}):nn,At(m,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${x.DURATION}s`,transitionTimingFunction:`cubic-bezier(${x.EASE.join(",")})`}));const D=At(m,M({borderRadius:`${ae}px`,overflow:"hidden"},$(t)?{transform:`scale(${w()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${w()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}));return()=>{D(),o.current=window.setTimeout(()=>{v?document.body.style.background=v:document.body.style.removeProperty("background")},x.DURATION*1e3)}}},[n,e,v])}let wt=null;function an({isOpen:t,modal:n,nested:e,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[v,w]=i.useState(()=>typeof window!="undefined"?window.location.href:""),m=i.useRef(0),D=i.useCallback(()=>{if(Kt()&&wt===null&&t&&!o){wt={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-m.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const k=f-window.innerHeight;k&&m.current>=f&&(document.body.style.top=`${-(m.current+k)}px`)}),300)}},[t]),y=i.useCallback(()=>{if(Kt()&&wt!==null&&!o){const h=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,wt),window.requestAnimationFrame(()=>{if(a&&v!==window.location.href){w(window.location.href);return}window.scrollTo(f,h)}),wt=null}},[v]);return i.useEffect(()=>{function h(){m.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),i.useEffect(()=>{e||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&D(),n||window.setTimeout(()=>{y()},500)):y())},[t,r,v,n,e,D,y]),{restorePositionSetting:y}}function se({open:t,onOpenChange:n,children:e,onDrag:r,onRelease:a,snapPoints:o,shouldScaleBackground:v=!1,setBackgroundColorOnScale:w=!0,closeThreshold:m=Qe,scrollLockTimeout:D=Ze,dismissible:y=!0,handleOnly:h=!1,fadeFromIndex:f=o&&o.length-1,activeSnapPoint:k,setActiveSnapPoint:Y,fixed:O,modal:B=!0,onClose:d,nested:P,noBodyStyles:L,direction:p="bottom",defaultOpen:q=!1,disablePreventScroll:G=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:b=!1,repositionInputs:g=!0,onAnimationEnd:I,container:N,autoFocus:W=!1}){var s,U;const[H=!1,z]=ie({defaultProp:q,prop:t,onChange:l=>{n==null||n(l),!l&&!P&&ve(),setTimeout(()=>{I==null||I(l)},x.DURATION*1e3),l&&!B&&typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[A,Z]=i.useState(!1),[tt,ut]=i.useState(!1),[fe,_t]=i.useState(!1),ot=i.useRef(null),ht=i.useRef(null),Tt=i.useRef(null),Et=i.useRef(null),gt=i.useRef(null),ct=i.useRef(!1),xt=i.useRef(null),Ot=i.useRef(0),it=i.useRef(!1),kt=i.useRef(0),c=i.useRef(null),Lt=i.useRef(((s=c.current)==null?void 0:s.getBoundingClientRect().height)||0),Bt=i.useRef(((U=c.current)==null?void 0:U.getBoundingClientRect().width)||0),Ct=i.useRef(0),me=i.useCallback(l=>{o&&l===ft.length-1&&(ht.current=new Date)},[]),{activeSnapPoint:pe,activeSnapPointIndex:dt,setActiveSnapPoint:Ut,onRelease:we,snapPointsOffset:ft,onDrag:he,shouldFade:Ft,getPercentageDragged:ge}=en({snapPoints:o,activeSnapPointProp:k,setActiveSnapPointProp:Y,drawerRef:c,fadeFromIndex:f,overlayRef:ot,onSnapPointChange:me,direction:p,container:N,snapToSequentialPoint:u});ze({isDisabled:!H||tt||!B||fe||!A||!g||!G});const{restorePositionSetting:ve}=an({isOpen:H,modal:B,nested:P,hasBeenOpened:A,preventScrollRestoration:b,noBodyStyles:L});function vt(){return(window.innerWidth-It)/window.innerWidth}function ye(l){var R,T;!y&&!o||c.current&&!c.current.contains(l.target)||(Lt.current=((R=c.current)==null?void 0:R.getBoundingClientRect().height)||0,Bt.current=((T=c.current)==null?void 0:T.getBoundingClientRect().width)||0,ut(!0),Tt.current=new Date,Zt()&&window.addEventListener("touchend",()=>ct.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),Ot.current=$(p)?l.pageY:l.pageX)}function jt(l,R){var T,E;let S=l;const V=(T=window.getSelection())==null?void 0:T.toString(),_=c.current?Dt(c.current,p):null,F=new Date;if(S.hasAttribute("data-vaul-no-drag")||S.closest("[data-vaul-no-drag]"))return!1;if(p==="right"||p==="left")return!0;if(ht.current&&F.getTime()-ht.current.getTime()<500)return!1;if(_!==null&&(p==="bottom"?_>0:_<0))return!0;if(V&&V.length>0)return!1;if(F.getTime()-((E=gt.current)==null?void 0:E.getTime())<D&&_===0||R)return gt.current=F,!1;for(;S;){if(S.scrollHeight>S.clientHeight){if(S.scrollTop!==0)return gt.current=new Date,!1;if(S.getAttribute("role")==="dialog")return!0}S=S.parentNode}return!0}function be(l){if(c.current&&tt){const R=p==="bottom"||p==="right"?1:-1,T=(Ot.current-($(p)?l.pageY:l.pageX))*R,E=T>0,S=o&&!y&&!E;if(S&&dt===0)return;const V=Math.abs(T),_=document.querySelector("[data-vaul-drawer-wrapper]"),F=p==="bottom"||p==="top"?Lt.current:Bt.current;let X=V/F;const rt=ge(V,E);if(rt!==null&&(X=rt),S&&X>=1||!ct.current&&!jt(l.target,E))return;if(c.current.classList.add(Mt),ct.current=!0,C(c.current,{transition:"none"}),C(ot.current,{transition:"none"}),o&&he({draggedDistance:T}),E&&!o){const J=Ge(T),yt=Math.min(J*-1,0)*R;C(c.current,{transform:$(p)?`translate3d(0, ${yt}px, 0)`:`translate3d(${yt}px, 0, 0)`});return}const et=1-X;if((Ft||f&&dt===f-1)&&(r==null||r(l,X),C(ot.current,{opacity:`${et}`,transition:"none"},!0)),_&&ot.current&&v){const J=Math.min(vt()+X*(1-vt()),1),yt=8-X*8,zt=Math.max(0,14-X*14);C(_,{borderRadius:`${yt}px`,transform:$(p)?`scale(${J}) translate3d(0, ${zt}px, 0)`:`scale(${J}) translate3d(${zt}px, 0, 0)`,transition:"none"},!0)}if(!o){const J=V*R;C(c.current,{transform:$(p)?`translate3d(0, ${J}px, 0)`:`translate3d(${J}px, 0, 0)`})}}}i.useEffect(()=>{var l;function R(){if(!c.current||!g)return;const T=document.activeElement;if(Pt(T)||it.current){var E;const S=((E=window.visualViewport)==null?void 0:E.height)||0,V=window.innerHeight;let _=V-S;const F=c.current.getBoundingClientRect().height||0,X=F>V*.8;Ct.current||(Ct.current=F);const rt=c.current.getBoundingClientRect().top;if(Math.abs(kt.current-_)>60&&(it.current=!it.current),o&&o.length>0&&ft&&dt){const et=ft[dt]||0;_+=et}if(kt.current=_,F>S||it.current){const et=c.current.getBoundingClientRect().height;let J=et;et>S&&(J=S-(X?rt:It)),O?c.current.style.height=`${et-Math.max(_,0)}px`:c.current.style.height=`${Math.max(J,S-rt)}px`}else c.current.style.height=`${Ct.current}px`;o&&o.length>0&&!it.current?c.current.style.bottom="0px":c.current.style.bottom=`${Math.max(_,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",R),()=>{var T;return(T=window.visualViewport)==null?void 0:T.removeEventListener("resize",R)}},[dt,o,ft]);function mt(l){Re(),d==null||d(),l||z(!1),setTimeout(()=>{o&&Ut(o[0])},x.DURATION*1e3)}function Wt(){if(!c.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),R=Dt(c.current,p);C(c.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`}),C(ot.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"1"}),v&&R&&R>0&&H&&C(l,Rt(M({borderRadius:`${ae}px`,overflow:"hidden"},$(p)?{transform:`scale(${vt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${vt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"}),{transitionProperty:"transform, border-radius",transitionDuration:`${x.DURATION}s`,transitionTimingFunction:`cubic-bezier(${x.EASE.join(",")})`}),!0)}function Re(){!tt||!c.current||(c.current.classList.remove(Mt),ct.current=!1,ut(!1),Et.current=new Date)}function Se(l){if(!tt||!c.current)return;c.current.classList.remove(Mt),ct.current=!1,ut(!1),Et.current=new Date;const R=Dt(c.current,p);if(!jt(l.target,!1)||!R||Number.isNaN(R)||Tt.current===null)return;const T=Et.current.getTime()-Tt.current.getTime(),E=Ot.current-($(p)?l.pageY:l.pageX),S=Math.abs(E)/T;if(S>.05&&(_t(!0),setTimeout(()=>{_t(!1)},200)),o){we({draggedDistance:E*(p==="bottom"||p==="right"?1:-1),closeDrawer:mt,velocity:S,dismissible:y}),a==null||a(l,!0);return}if(p==="bottom"||p==="right"?E>0:E<0){Wt(),a==null||a(l,!0);return}if(S>re){mt(),a==null||a(l,!1);return}var V;const _=Math.min((V=c.current.getBoundingClientRect().height)!=null?V:0,window.innerHeight);var F;const X=Math.min((F=c.current.getBoundingClientRect().width)!=null?F:0,window.innerWidth),rt=p==="left"||p==="right";if(Math.abs(R)>=(rt?X:_)*m){mt(),a==null||a(l,!1);return}a==null||a(l,!0),Wt()}i.useEffect(()=>(H&&(C(document.documentElement,{scrollBehavior:"auto"}),ht.current=new Date),()=>{Ke(document.documentElement,"scrollBehavior")}),[H]);function De(l){const R=l?(window.innerWidth-at)/window.innerWidth:1,T=l?-at:0;xt.current&&window.clearTimeout(xt.current),C(c.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:`scale(${R}) translate3d(0, ${T}px, 0)`}),!l&&c.current&&(xt.current=setTimeout(()=>{const E=Dt(c.current,p);C(c.current,{transition:"none",transform:$(p)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function Te(l,R){if(R<0)return;const T=(window.innerWidth-at)/window.innerWidth,E=T+R*(1-T),S=-at+R*at;C(c.current,{transform:$(p)?`scale(${E}) translate3d(0, ${S}px, 0)`:`scale(${E}) translate3d(${S}px, 0, 0)`,transition:"none"})}function Ee(l,R){const T=$(p)?window.innerHeight:window.innerWidth,E=R?(T-at)/T:1,S=R?-at:0;R&&C(c.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:$(p)?`scale(${E}) translate3d(0, ${S}px, 0)`:`scale(${E}) translate3d(${S}px, 0, 0)`})}return i.createElement(He,{defaultOpen:q,onOpenChange:l=>{!y&&!l||(l?Z(!0):mt(!0),z(l))},open:H},i.createElement(Qt.Provider,{value:{activeSnapPoint:pe,snapPoints:o,setActiveSnapPoint:Ut,drawerRef:c,overlayRef:ot,onOpenChange:n,onPress:ye,onRelease:Se,onDrag:be,dismissible:y,handleOnly:h,isOpen:H,isDragging:tt,shouldFade:Ft,closeDrawer:mt,onNestedDrag:Te,onNestedOpenChange:De,onNestedRelease:Ee,keyboardIsOpen:it,modal:B,snapPointsOffset:ft,direction:p,shouldScaleBackground:v,setBackgroundColorOnScale:w,noBodyStyles:L,container:N,autoFocus:W}},e))}const le=i.forwardRef(function(e,n){var t=j(e,[]);const{overlayRef:r,snapPoints:a,onRelease:o,shouldFade:v,isOpen:w,modal:m}=lt(),D=ee(n,r),y=a&&a.length>0;return m?i.createElement($e,M({onMouseUp:o,ref:D,"data-vaul-overlay":"","data-vaul-snap-points":w&&y?"true":"false","data-vaul-snap-points-overlay":w&&v?"true":"false"},t)):(typeof window!="undefined"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});le.displayName="Drawer.Overlay";const ue=i.forwardRef(function(o,a){var v=o,{onPointerDownOutside:t,style:n,onOpenAutoFocus:e}=v,r=j(v,["onPointerDownOutside","style","onOpenAutoFocus"]);const{drawerRef:w,onPress:m,onRelease:D,onDrag:y,keyboardIsOpen:h,snapPointsOffset:f,modal:k,isOpen:Y,direction:O,snapPoints:B,container:d,handleOnly:P,autoFocus:L}=lt(),[p,q]=i.useState(!1),G=ee(a,w),u=i.useRef(null),b=i.useRef(null),g=i.useRef(!1),I=B&&B.length>0;rn();const N=(s,U,H=0)=>{if(g.current)return!0;const z=Math.abs(s.y),A=Math.abs(s.x),Z=A>z,tt=["bottom","right"].includes(U)?1:-1;if(U==="left"||U==="right"){if(!(s.x*tt<0)&&A>=0&&A<=H)return Z}else if(!(s.y*tt<0)&&z>=0&&z<=H)return!Z;return g.current=!0,!0};i.useEffect(()=>{I&&window.requestAnimationFrame(()=>{q(!0)})},[]);function W(s){u.current=null,g.current=!1,D(s)}return i.createElement(Ne,Rt(M({"data-vaul-drawer-direction":O,"data-vaul-drawer":"","data-vaul-delayed-snap-points":p?"true":"false","data-vaul-snap-points":Y&&I?"true":"false","data-vaul-custom-container":d?"true":"false"},r),{ref:G,style:f&&f.length>0?M({"--snap-point-height":`${f[0]}px`},n):n,onPointerDown:s=>{P||(r.onPointerDown==null||r.onPointerDown.call(r,s),u.current={x:s.pageX,y:s.pageY},m(s))},onOpenAutoFocus:s=>{e==null||e(s),L||s.preventDefault()},onPointerDownOutside:s=>{if(t==null||t(s),!k||s.defaultPrevented){s.preventDefault();return}h.current&&(h.current=!1)},onFocusOutside:s=>{if(!k){s.preventDefault();return}},onPointerMove:s=>{if(b.current=s,P||(r.onPointerMove==null||r.onPointerMove.call(r,s),!u.current))return;const U=s.pageY-u.current.y,H=s.pageX-u.current.x,z=s.pointerType==="touch"?10:2;N({x:H,y:U},O,z)?y(s):(Math.abs(H)>z||Math.abs(U)>z)&&(u.current=null)},onPointerUp:s=>{r.onPointerUp==null||r.onPointerUp.call(r,s),u.current=null,g.current=!1,D(s)},onPointerOut:s=>{r.onPointerOut==null||r.onPointerOut.call(r,s),W(b.current)},onContextMenu:s=>{r.onContextMenu==null||r.onContextMenu.call(r,s),W(b.current)}}))});ue.displayName="Drawer.Content";const on=250,sn=120,ce=i.forwardRef(function(a,r){var o=a,{preventCycle:t=!1,children:n}=o,e=j(o,["preventCycle","children"]);const{closeDrawer:v,isDragging:w,snapPoints:m,activeSnapPoint:D,setActiveSnapPoint:y,dismissible:h,handleOnly:f,isOpen:k,onPress:Y,onDrag:O}=lt(),B=i.useRef(null),d=i.useRef(!1);function P(){if(d.current){q();return}window.setTimeout(()=>{L()},sn)}function L(){if(w||t||d.current){q();return}if(q(),(!m||m.length===0)&&h){v();return}if(D===m[m.length-1]&&h){v();return}const u=m.findIndex(g=>g===D);if(u===-1)return;const b=m[u+1];y(b)}function p(){B.current=window.setTimeout(()=>{d.current=!0},on)}function q(){window.clearTimeout(B.current),d.current=!1}return i.createElement("div",M({onClick:P,onPointerCancel:q,onPointerDown:G=>{f&&Y(G),p()},onPointerMove:G=>{f&&O(G)},ref:r,"data-vaul-drawer-visible":k?"true":"false","data-vaul-handle":"","aria-hidden":"true"},e),i.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});ce.displayName="Drawer.Handle";function ln(r){var a=r,{onDrag:t,onOpenChange:n}=a,e=j(a,["onDrag","onOpenChange"]);const{onNestedDrag:o,onNestedOpenChange:v,onNestedRelease:w}=lt();if(!o)throw new Error("Drawer.NestedRoot must be placed in another drawer");return i.createElement(se,M({nested:!0,onClose:()=>{v(!1)},onDrag:(m,D)=>{o(m,D),t==null||t(m,D)},onOpenChange:m=>{m&&v(m)},onRelease:w},e))}function un(t){const n=lt(),a=t,{container:e=n.container}=a,r=j(a,["container"]);return i.createElement(_e,M({container:e},r))}const K={Root:se,NestedRoot:ln,Content:ue,Overlay:le,Trigger:Ae,Portal:un,Handle:ce,Close:Me,Title:Pe,Description:Ie},cn=e=>{var r=e,{shouldScaleBackground:t=!0}=r,n=j(r,["shouldScaleBackground"]);return Q.jsx(K.Root,M({shouldScaleBackground:t},n))};cn.displayName="Drawer";const yn=K.Trigger,dn=K.Portal,bn=K.Close,de=nt.forwardRef((r,e)=>{var a=r,{className:t}=a,n=j(a,["className"]);return Q.jsx(K.Overlay,M({ref:e,className:st("fixed inset-0 z-50 bg-black/80",t)},n))});de.displayName=K.Overlay.displayName;const fn=nt.forwardRef((a,r)=>{var o=a,{className:t,children:n}=o,e=j(o,["className","children"]);return Q.jsxs(dn,{children:[Q.jsx(de,{}),Q.jsxs(K.Content,Rt(M({ref:r,className:st("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t)},e),{children:[Q.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]}))]})});fn.displayName="DrawerContent";const mn=e=>{var r=e,{className:t}=r,n=j(r,["className"]);return Q.jsx("div",M({className:st("grid gap-1.5 p-4 text-center sm:text-left",t)},n))};mn.displayName="DrawerHeader";const pn=e=>{var r=e,{className:t}=r,n=j(r,["className"]);return Q.jsx("div",M({className:st("mt-auto flex flex-col gap-2 p-4",t)},n))};pn.displayName="DrawerFooter";const wn=nt.forwardRef((r,e)=>{var a=r,{className:t}=a,n=j(a,["className"]);return Q.jsx(K.Title,M({ref:e,className:st("text-lg font-semibold leading-none tracking-tight",t)},n))});wn.displayName=K.Title.displayName;const hn=nt.forwardRef((r,e)=>{var a=r,{className:t}=a,n=j(a,["className"]);return Q.jsx(K.Description,M({ref:e,className:st("text-sm text-muted-foreground",t)},n))});hn.displayName=K.Description.displayName;export{cn as Drawer,bn as DrawerClose,fn as DrawerContent,hn as DrawerDescription,pn as DrawerFooter,mn as DrawerHeader,de as DrawerOverlay,dn as DrawerPortal,wn as DrawerTitle,yn as DrawerTrigger};
