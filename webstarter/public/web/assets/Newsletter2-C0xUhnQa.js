var h=(i,o,t)=>new Promise((c,r)=>{var n=s=>{try{m(t.next(s))}catch(a){r(a)}},l=s=>{try{m(t.throw(s))}catch(a){r(a)}},m=s=>s.done?c(s.value):Promise.resolve(s.value).then(n,l);m((t=t.apply(i,o)).next())});import{r as x,W as y,$ as N,j as e,I as D,B as f,D as v,c as E,d as S,e as k,g as G,h as C}from"./index-BEnNszjz.js";const _=({title:i="Newsletter Signup",subtitle:o="Egestas consectetur a cras aliquam tincidunt tellus quam.",email_group:t="Newsletter Group",image:c})=>{const[r,n]=x.useState(""),[l,m]=x.useState(t),[s,a]=x.useState(!1),{createDoc:p,isSubmitting:b}=y(),{data:u,error:q}=N("Email Group",{}),j=d=>h(void 0,null,function*(){d.preventDefault();try{(u==null?void 0:u.find(w=>w.name===l))||(yield p("Email Group",{title:l,email_group_name:l})),yield p("Email Group Member",{email_group:l,email:r}),n(""),a(!0)}catch(g){console.error("Subscription error: ",g),alert("Failed to subscribe, please try again.")}});return e.jsxs("section",{className:"relative w-full max-w-7xl mx-auto my-16 bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"grid md:grid-cols-[1fr_0.5fr]",children:[e.jsxs("div",{className:"flex flex-col justify-center px-6 py-12 sm:pl-12 sm:pr-20 md:py-16",children:[i&&e.jsx("h3",{className:"mb-2 text-2xl font-bold md:text-4xl",children:i}),o&&e.jsx("p",{className:"mb-6 text-sm text-gray-500 sm:text-base lg:mb-8",children:o}),e.jsxs("form",{onSubmit:j,className:"relative mb-4 max-w-full",children:[e.jsx(D,{type:"email",value:r,onChange:d=>n(d.target.value),placeholder:"Enter your email",className:"block h-9 w-full rounded-md border border-solid border-black px-3 py-6 text-sm text-black placeholder:text-black",required:!0}),e.jsx(f,{type:"submit",disabled:b,className:"relative top-2 sm:top-1/2 sm:-translate-y-1/2 w-full cursor-pointer rounded-md bg-black px-6 py-2 font-semibold text-white sm:absolute sm:right-1 sm:w-36",children:b?"Subscribing...":"Subscribe"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Zero spam. Only quality pixels."})]}),c&&e.jsx("img",{src:c,alt:"Newsletter Image",className:"inline-block h-full max-h-60 w-full object-cover [grid-area:1/1/2/2] sm:max-h-full sm:[grid-area:1/2/2/3]"})]}),e.jsx(v,{open:s,onOpenChange:a,children:e.jsxs(E,{className:"text-center",children:[e.jsxs(S,{children:[e.jsx(k,{children:"Thank You!"}),e.jsx(G,{children:"You have successfully subscribed to our newsletter."})]}),e.jsx(C,{children:e.jsx(f,{onClick:()=>a(!1),children:"Close"})})]})})]})};export{_ as default};
