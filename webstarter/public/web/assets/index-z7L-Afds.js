var j=Object.defineProperty,M=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var x=(a,e,r)=>e in a?j(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,g=(a,e)=>{for(var r in e||(e={}))L.call(e,r)&&x(a,r,e[r]);if(l)for(var r of l(e))I.call(e,r)&&x(a,r,e[r]);return a},v=(a,e)=>M(a,N(e));var m=(a,e)=>{var r={};for(var t in a)L.call(a,t)&&e.indexOf(t)<0&&(r[t]=a[t]);if(a!=null&&l)for(var t of l(a))e.indexOf(t)<0&&I.call(a,t)&&(r[t]=a[t]);return r};import{p as P,r as d,j as f,P as A,q as k,s as w}from"./index-BEnNszjz.js";var p="Avatar",[y,G]=P(p),[F,C]=y(p),R=d.forwardRef((a,e)=>{const s=a,{__scopeAvatar:r}=s,t=m(s,["__scopeAvatar"]),[n,o]=d.useState("idle");return f.jsx(F,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:f.jsx(A.span,v(g({},t),{ref:e}))})});R.displayName=p;var _="AvatarImage",E=d.forwardRef((a,e)=>{const c=a,{__scopeAvatar:r,src:t,onLoadingStatusChange:n=()=>{}}=c,o=m(c,["__scopeAvatar","src","onLoadingStatusChange"]),s=C(_,r),i=T(t,o.referrerPolicy),u=k(S=>{n(S),s.onImageLoadingStatusChange(S)});return w(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?f.jsx(A.img,v(g({},o),{ref:e,src:t})):null});E.displayName=_;var b="AvatarFallback",h=d.forwardRef((a,e)=>{const u=a,{__scopeAvatar:r,delayMs:t}=u,n=m(u,["__scopeAvatar","delayMs"]),o=C(b,r),[s,i]=d.useState(t===void 0);return d.useEffect(()=>{if(t!==void 0){const c=window.setTimeout(()=>i(!0),t);return()=>window.clearTimeout(c)}},[t]),s&&o.imageLoadingStatus!=="loaded"?f.jsx(A.span,v(g({},n),{ref:e})):null});h.displayName=b;function T(a,e){const[r,t]=d.useState("idle");return w(()=>{if(!a){t("error");return}let n=!0;const o=new window.Image,s=i=>()=>{n&&t(i)};return t("loading"),o.onload=s("loaded"),o.onerror=s("error"),o.src=a,e&&(o.referrerPolicy=e),()=>{n=!1}},[a,e]),r}var K=R,V=E,z=h;export{R as A,z as F,V as I,K as R,E as a,h as b};
