var ge=Object.defineProperty,Se=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var J=(e,t,n)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))Q.call(t,n)&&J(e,n,t[n]);if(N)for(var n of N(t))Z.call(t,n)&&J(e,n,t[n]);return e},x=(e,t)=>Se(e,ve(t));var E=(e,t)=>{var n={};for(var o in e)Q.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&N)for(var o of N(e))t.indexOf(o)<0&&Z.call(e,o)&&(n[o]=e[o]);return n};import{ag as be,p as xe,r as u,ax as we,j as p,ak as V,ai as B,aw as ye,P as H,aD as Pe,au as Re,k as De}from"./index-BEnNszjz.js";import{c as ee}from"./index-BdQq_4o_.js";var te=["PageUp","PageDown"],ne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],oe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},k="Slider",[F,Ee,Ce]=be(k),[re,Ge]=xe(k,[Ce]),[_e,z]=re(k),se=u.forwardRef((e,t)=>{const G=e,{name:n,min:o=0,max:i=100,step:a=1,orientation:r="horizontal",disabled:c=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[o],value:S,onValueChange:w=()=>{},onValueCommit:s=()=>{},inverted:l=!1,form:y}=G,P=E(G,["name","min","max","step","orientation","disabled","minStepsBetweenThumbs","defaultValue","value","onValueChange","onValueCommit","inverted","form"]),g=u.useRef(new Set),d=u.useRef(0),C=r==="horizontal"?Me:je,[m=[],D]=we({prop:S,defaultProp:h,onChange:v=>{var A;(A=[...g.current][d.current])==null||A.focus(),w(v)}}),j=u.useRef(m);function X(v){const _=Ke(m,v);K(v,_)}function O(v){K(v,d.current)}function he(){const v=j.current[d.current];m[d.current]!==v&&s(m)}function K(v,_,{commit:A}={commit:!1}){const W=He(a),L=ze(Math.round((v-o)/a)*a+o,W),T=ee(L,[o,i]);D((I=[])=>{const M=Ve(I,T,_);if(Ne(M,f*a)){d.current=M.indexOf(T);const q=String(M)!==String(I);return q&&A&&s(M),q?M:I}else return I})}return p.jsx(_e,{scope:e.__scopeSlider,name:n,disabled:c,min:o,max:i,valueIndexToChangeRef:d,thumbs:g.current,values:m,orientation:r,form:y,children:p.jsx(F.Provider,{scope:e.__scopeSlider,children:p.jsx(F.Slot,{scope:e.__scopeSlider,children:p.jsx(C,x(b({"aria-disabled":c,"data-disabled":c?"":void 0},P),{ref:t,onPointerDown:V(P.onPointerDown,()=>{c||(j.current=m)}),min:o,max:i,inverted:l,onSlideStart:c?void 0:X,onSlideMove:c?void 0:O,onSlideEnd:c?void 0:he,onHomeKeyDown:()=>!c&&K(o,0,{commit:!0}),onEndKeyDown:()=>!c&&K(i,m.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:_})=>{if(!c){const L=te.includes(v.key)||v.shiftKey&&ne.includes(v.key)?10:1,T=d.current,I=m[T],M=a*L*_;K(I+M,T,{commit:!0})}}}))})})})});se.displayName=k;var[ie,ae]=re(k,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Me=u.forwardRef((e,t)=>{const C=e,{min:n,max:o,dir:i,inverted:a,onSlideStart:r,onSlideMove:c,onSlideEnd:f,onStepKeyDown:h}=C,S=E(C,["min","max","dir","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),[w,s]=u.useState(null),l=B(t,m=>s(m)),y=u.useRef(),P=ye(i),g=P==="ltr",d=g&&!a||!g&&a;function R(m){const D=y.current||w.getBoundingClientRect(),j=[0,D.width],O=$(j,d?[n,o]:[o,n]);return y.current=D,O(m-D.left)}return p.jsx(ie,{scope:e.__scopeSlider,startEdge:d?"left":"right",endEdge:d?"right":"left",direction:d?1:-1,size:"width",children:p.jsx(ce,x(b({dir:P,"data-orientation":"horizontal"},S),{ref:l,style:x(b({},S.style),{"--radix-slider-thumb-transform":"translateX(-50%)"}),onSlideStart:m=>{const D=R(m.clientX);r==null||r(D)},onSlideMove:m=>{const D=R(m.clientX);c==null||c(D)},onSlideEnd:()=>{y.current=void 0,f==null||f()},onStepKeyDown:m=>{const j=oe[d?"from-left":"from-right"].includes(m.key);h==null||h({event:m,direction:j?-1:1})}}))})}),je=u.forwardRef((e,t)=>{const P=e,{min:n,max:o,inverted:i,onSlideStart:a,onSlideMove:r,onSlideEnd:c,onStepKeyDown:f}=P,h=E(P,["min","max","inverted","onSlideStart","onSlideMove","onSlideEnd","onStepKeyDown"]),S=u.useRef(null),w=B(t,S),s=u.useRef(),l=!i;function y(g){const d=s.current||S.current.getBoundingClientRect(),R=[0,d.height],m=$(R,l?[o,n]:[n,o]);return s.current=d,m(g-d.top)}return p.jsx(ie,{scope:e.__scopeSlider,startEdge:l?"bottom":"top",endEdge:l?"top":"bottom",size:"height",direction:l?1:-1,children:p.jsx(ce,x(b({"data-orientation":"vertical"},h),{ref:w,style:x(b({},h.style),{"--radix-slider-thumb-transform":"translateY(50%)"}),onSlideStart:g=>{const d=y(g.clientY);a==null||a(d)},onSlideMove:g=>{const d=y(g.clientY);r==null||r(d)},onSlideEnd:()=>{s.current=void 0,c==null||c()},onStepKeyDown:g=>{const R=oe[l?"from-bottom":"from-top"].includes(g.key);f==null||f({event:g,direction:R?-1:1})}}))})}),ce=u.forwardRef((e,t)=>{const w=e,{__scopeSlider:n,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:r,onEndKeyDown:c,onStepKeyDown:f}=w,h=E(w,["__scopeSlider","onSlideStart","onSlideMove","onSlideEnd","onHomeKeyDown","onEndKeyDown","onStepKeyDown"]),S=z(k,n);return p.jsx(H.span,x(b({},h),{ref:t,onKeyDown:V(e.onKeyDown,s=>{s.key==="Home"?(r(s),s.preventDefault()):s.key==="End"?(c(s),s.preventDefault()):te.concat(ne).includes(s.key)&&(f(s),s.preventDefault())}),onPointerDown:V(e.onPointerDown,s=>{const l=s.target;l.setPointerCapture(s.pointerId),s.preventDefault(),S.thumbs.has(l)?l.focus():o(s)}),onPointerMove:V(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:V(e.onPointerUp,s=>{const l=s.target;l.hasPointerCapture(s.pointerId)&&(l.releasePointerCapture(s.pointerId),a(s))})}))}),le="SliderTrack",de=u.forwardRef((e,t)=>{const a=e,{__scopeSlider:n}=a,o=E(a,["__scopeSlider"]),i=z(le,n);return p.jsx(H.span,x(b({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},o),{ref:t}))});de.displayName=le;var U="SliderRange",ue=u.forwardRef((e,t)=>{const s=e,{__scopeSlider:n}=s,o=E(s,["__scopeSlider"]),i=z(U,n),a=ae(U,n),r=u.useRef(null),c=B(t,r),f=i.values.length,h=i.values.map(l=>me(l,i.min,i.max)),S=f>1?Math.min(...h):0,w=100-Math.max(...h);return p.jsx(H.span,x(b({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},o),{ref:c,style:x(b({},e.style),{[a.startEdge]:S+"%",[a.endEdge]:w+"%"})}))});ue.displayName=U;var Y="SliderThumb",fe=u.forwardRef((e,t)=>{const n=Ee(e.__scopeSlider),[o,i]=u.useState(null),a=B(t,c=>i(c)),r=u.useMemo(()=>o?n().findIndex(c=>c.ref.current===o):-1,[n,o]);return p.jsx(Ae,x(b({},e),{ref:a,index:r}))}),Ae=u.forwardRef((e,t)=>{const R=e,{__scopeSlider:n,index:o,name:i}=R,a=E(R,["__scopeSlider","index","name"]),r=z(Y,n),c=ae(Y,n),[f,h]=u.useState(null),S=B(t,C=>h(C)),w=f?r.form||!!f.closest("form"):!0,s=Pe(f),l=r.values[o],y=l===void 0?0:me(l,r.min,r.max),P=ke(o,r.values.length),g=s==null?void 0:s[c.size],d=g?Te(g,y,c.direction):0;return u.useEffect(()=>{if(f)return r.thumbs.add(f),()=>{r.thumbs.delete(f)}},[f,r.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${y}% + ${d}px)`},children:[p.jsx(F.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(H.span,x(b({role:"slider","aria-label":e["aria-label"]||P,"aria-valuemin":r.min,"aria-valuenow":l,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0},a),{ref:S,style:l===void 0?{display:"none"}:e.style,onFocus:V(e.onFocus,()=>{r.valueIndexToChangeRef.current=o})}))}),w&&p.jsx(Ie,{name:i!=null?i:r.name?r.name+(r.values.length>1?"[]":""):void 0,form:r.form,value:l},o)]})});fe.displayName=Y;var Ie=e=>{const a=e,{value:t}=a,n=E(a,["value"]),o=u.useRef(null),i=Re(t);return u.useEffect(()=>{const r=o.current,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const S=new Event("input",{bubbles:!0});h.call(r,t),r.dispatchEvent(S)}},[i,t]),p.jsx("input",x(b({style:{display:"none"}},n),{ref:o,defaultValue:t}))};function Ve(e=[],t,n){const o=[...e];return o[n]=t,o.sort((i,a)=>i-a)}function me(e,t,n){const a=100/(n-t)*(e-t);return ee(a,[0,100])}function ke(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ke(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),o=Math.min(...n);return n.indexOf(o)}function Te(e,t,n){const o=e/2,a=$([0,50],[0,o]);return(o-a(t)*n)*n}function Be(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ne(e,t){if(t>0){const n=Be(e);return Math.min(...n)>=t}return!0}function $(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function He(e){return(String(e).split(".")[1]||"").length}function ze(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var pe=se,Oe=de,Le=ue,Fe=fe;const Ue=u.forwardRef((o,n)=>{var i=o,{className:e}=i,t=E(i,["className"]);return p.jsxs(pe,x(b({ref:n,className:De("relative flex w-full touch-none select-none items-center",e)},t),{children:[p.jsx(Oe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(Le,{className:"absolute h-full bg-primary"})}),p.jsx(Fe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}))});Ue.displayName=pe.displayName;export{Ue as Slider};
