var W=Object.defineProperty,$=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var _=(e,t,o)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,l=(e,t)=>{for(var o in t||(t={}))D.call(t,o)&&_(e,o,t[o]);if(b)for(var o of b(t))A.call(t,o)&&_(e,o,t[o]);return e},h=(e,t)=>$(e,z(t));var x=(e,t)=>{var o={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&b)for(var r of b(e))t.indexOf(r)<0&&A.call(e,r)&&(o[r]=e[r]);return o};import{p as B,ah as j,r as n,j as p,aj as G,P as K,ak as f,aC as q,ai as V,aq as J,ar as Q,at as X,ax as Y,ay as Z,k as ee}from"./index-BEnNszjz.js";var O,y="HoverCard",[k,fe]=B(y,[j]),H=j(),[te,N]=k(y),L=e=>{const{__scopeHoverCard:t,children:o,open:r,defaultOpen:s,onOpenChange:i,openDelay:c=700,closeDelay:v=300}=e,d=H(t),P=n.useRef(0),C=n.useRef(0),R=n.useRef(!1),m=n.useRef(!1),[S=!1,u]=Y({prop:r,defaultProp:s,onChange:i}),a=n.useCallback(()=>{clearTimeout(C.current),P.current=window.setTimeout(()=>u(!0),c)},[c,u]),g=n.useCallback(()=>{clearTimeout(P.current),!R.current&&!m.current&&(C.current=window.setTimeout(()=>u(!1),v))},[v,u]),w=n.useCallback(()=>u(!1),[u]);return n.useEffect(()=>()=>{clearTimeout(P.current),clearTimeout(C.current)},[]),p.jsx(te,{scope:t,open:S,onOpenChange:u,onOpen:a,onClose:g,onDismiss:w,hasSelectionRef:R,isPointerDownOnContentRef:m,children:p.jsx(Z,h(l({},d),{children:o}))})};L.displayName=y;var F="HoverCardTrigger",M=n.forwardRef((e,t)=>{const c=e,{__scopeHoverCard:o}=c,r=x(c,["__scopeHoverCard"]),s=N(F,o),i=H(o);return p.jsx(G,h(l({asChild:!0},i),{children:p.jsx(K.a,h(l({"data-state":s.open?"open":"closed"},r),{ref:t,onPointerEnter:f(e.onPointerEnter,T(s.onOpen)),onPointerLeave:f(e.onPointerLeave,T(s.onClose)),onFocus:f(e.onFocus,s.onOpen),onBlur:f(e.onBlur,s.onClose),onTouchStart:f(e.onTouchStart,v=>v.preventDefault())}))}))});M.displayName=F;var oe="HoverCardPortal",[ve,re]=k(oe,{forceMount:void 0}),E="HoverCardContent",I=n.forwardRef((e,t)=>{const o=re(E,e.__scopeHoverCard),c=e,{forceMount:r=o.forceMount}=c,s=x(c,["forceMount"]),i=N(E,e.__scopeHoverCard);return p.jsx(q,{present:r||i.open,children:p.jsx(ne,h(l({"data-state":i.open?"open":"closed"},s),{onPointerEnter:f(e.onPointerEnter,T(i.onOpen)),onPointerLeave:f(e.onPointerLeave,T(i.onClose)),ref:t}))})});I.displayName=E;var ne=n.forwardRef((e,t)=>{const u=e,{__scopeHoverCard:o,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:c}=u,v=x(u,["__scopeHoverCard","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),d=N(E,o),P=H(o),C=n.useRef(null),R=V(t,C),[m,S]=n.useState(!1);return n.useEffect(()=>{if(m){const a=document.body;return O=a.style.userSelect||a.style.webkitUserSelect,a.style.userSelect="none",a.style.webkitUserSelect="none",()=>{a.style.userSelect=O,a.style.webkitUserSelect=O}}},[m]),n.useEffect(()=>{if(C.current){const a=()=>{S(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",a),()=>{document.removeEventListener("pointerup",a),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),n.useEffect(()=>{C.current&&ie(C.current).forEach(g=>g.setAttribute("tabindex","-1"))}),p.jsx(J,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:c,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:f(i,a=>{a.preventDefault()}),onDismiss:d.onDismiss,children:p.jsx(Q,h(l(l({},P),v),{onPointerDown:f(v.onPointerDown,a=>{a.currentTarget.contains(a.target)&&S(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:R,style:h(l({},v.style),{userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"})}))})}),ae="HoverCardArrow",se=n.forwardRef((e,t)=>{const i=e,{__scopeHoverCard:o}=i,r=x(i,["__scopeHoverCard"]),s=H(o);return p.jsx(X,h(l(l({},s),r),{ref:t}))});se.displayName=ae;function T(e){return t=>t.pointerType==="touch"?void 0:e()}function ie(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;o.nextNode();)t.push(o.currentNode);return t}var ce=L,de=M,U=I;const Ce=ce,he=de,le=n.forwardRef((i,s)=>{var c=i,{className:e,align:t="center",sideOffset:o=4}=c,r=x(c,["className","align","sideOffset"]);return p.jsx(U,l({ref:s,align:t,sideOffset:o,className:ee("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e)},r))});le.displayName=U.displayName;export{Ce as HoverCard,le as HoverCardContent,he as HoverCardTrigger};
