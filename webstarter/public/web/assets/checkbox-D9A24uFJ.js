var T=Object.defineProperty,X=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var I=(e,r,t)=>r in e?T(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,l=(e,r)=>{for(var t in r||(r={}))D.call(r,t)&&I(e,t,r[t]);if(E)for(var t of E(r))_.call(r,t)&&I(e,t,r[t]);return e},b=(e,r)=>X(e,F(r));var v=(e,r)=>{var t={};for(var o in e)D.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&E)for(var o of E(e))r.indexOf(o)<0&&_.call(e,o)&&(t[o]=e[o]);return t};import{p as $,r as c,ai as G,ax as J,j as d,P as O,ak as B,aC as Q,au as U,aD as V,k as M,aB as W}from"./index-BEnNszjz.js";var j="Checkbox",[Y,ae]=$(j),[Z,ee]=Y(j),A=c.forwardRef((e,r)=>{const S=e,{__scopeCheckbox:t,name:o,checked:n,defaultChecked:a,required:u,disabled:p,value:y="on",onCheckedChange:P,form:k}=S,x=v(S,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[i,w]=c.useState(null),g=G(r,s=>w(s)),m=c.useRef(!1),N=i?k||!!i.closest("form"):!0,[h=!1,R]=J({prop:n,defaultProp:a,onChange:P}),z=c.useRef(h);return c.useEffect(()=>{const s=i==null?void 0:i.form;if(s){const C=()=>R(z.current);return s.addEventListener("reset",C),()=>s.removeEventListener("reset",C)}},[i,R]),d.jsxs(Z,{scope:t,state:h,disabled:p,children:[d.jsx(O.button,b(l({type:"button",role:"checkbox","aria-checked":f(h)?"mixed":h,"aria-required":u,"data-state":L(h),"data-disabled":p?"":void 0,disabled:p,value:y},x),{ref:g,onKeyDown:B(e.onKeyDown,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:B(e.onClick,s=>{R(C=>f(C)?!0:!C),N&&(m.current=s.isPropagationStopped(),m.current||s.stopPropagation())})})),N&&d.jsx(te,{control:i,bubbles:!m.current,name:o,value:y,checked:h,required:u,disabled:p,form:k,style:{transform:"translateX(-100%)"},defaultChecked:f(a)?!1:a})]})});A.displayName=j;var H="CheckboxIndicator",K=c.forwardRef((e,r)=>{const u=e,{__scopeCheckbox:t,forceMount:o}=u,n=v(u,["__scopeCheckbox","forceMount"]),a=ee(H,t);return d.jsx(Q,{present:o||f(a.state)||a.state===!0,children:d.jsx(O.span,b(l({"data-state":L(a.state),"data-disabled":a.disabled?"":void 0},n),{ref:r,style:l({pointerEvents:"none"},e.style)}))})});K.displayName=H;var te=e=>{const k=e,{control:r,checked:t,bubbles:o=!0,defaultChecked:n}=k,a=v(k,["control","checked","bubbles","defaultChecked"]),u=c.useRef(null),p=U(t),y=V(r);c.useEffect(()=>{const x=u.current,i=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(i,"checked").set;if(p!==t&&g){const m=new Event("click",{bubbles:o});x.indeterminate=f(t),g.call(x,f(t)?!1:t),x.dispatchEvent(m)}},[p,t,o]);const P=c.useRef(f(t)?!1:t);return d.jsx("input",b(l({type:"checkbox","aria-hidden":!0,defaultChecked:n!=null?n:P.current},a),{tabIndex:-1,ref:u,style:b(l(l({},e.style),y),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function f(e){return e==="indeterminate"}function L(e){return f(e)?"indeterminate":e?"checked":"unchecked"}var q=A,re=K;const oe=c.forwardRef((o,t)=>{var n=o,{className:e}=n,r=v(n,["className"]);return d.jsx(q,b(l({ref:t,className:M("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e)},r),{children:d.jsx(re,{className:M("flex items-center justify-center text-current"),children:d.jsx(W,{className:"h-4 w-4"})})}))});oe.displayName=q.displayName;export{oe as Checkbox};
